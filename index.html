<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KALVI HUB</title>

    <!-- Icons / favicon -->
    <link rel="icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="kl.png">
    <link rel="icon" type="image/png" sizes="16x16" href="kl.png">
    <link rel="apple-touch-icon" sizes="180x180" href="kl.png">
    <link rel="manifest" href="kl.png">
    <meta name="theme-color" content="#ffffff">

    <style>
      :root{
        --brand: #0b5cff;
        --muted: #6b7280;
        --bg: #f3f6fb;
        --accent: #f97373;
      }
      html,body{ height:40%; }
      body{
        margin: 0;
        margin-top: 90px;
        font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, Helvetica, sans-serif;
        background:var(--bg);
        display:flex;
        align-items:center;
        justify-content:center;
        padding:32px;
        flex-direction:column;
      }
      /* added: header layout with logo */
      .heading-box{
        display:flex;
        align-items:center;
        width: 90%;
        gap:18px;
        background:#ffe1e1;
        border-radius:16px;
        padding:18px 24px;
      }
      .heading-inner{ display:flex; align-items:center; gap:16px; width:100%; }
      .logo{
        width:64px;
        height:64px;
        object-fit:contain;
        border-radius:8px;
        flex:0 0 64px;
      }
      .heading-text{ display:inline-block; }
      .heading-text .title{ margin:0; font-size:24px; color:var(--brand); }
      .heading-text .meta{ margin:6px 0 0 0; color:var(--muted); font-size:13px; }
      @media (min-width:768px){
        .logo{ width:80px; height:80px; }
        .heading-text .title{ font-size:32px; }
      }

      /* New: grid and card styles for the four boxes */
      .container{
        max-width:1000px;
        width:100%;
        margin-top:20px;
        box-sizing:border-box;
      }
      .grid{
        display:grid;
        gap:16px;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      }
      /* card is now a div so we can include multiple links inside */
      .card{
        background:#ffffff;
        border-radius:12px;
        padding:18px;
        color:inherit;
        box-shadow: 0 6px 18px rgba(12,20,40,0.06);
        transition:transform .12s ease, box-shadow .12s ease;
        border:1px solid rgba(11,92,255,0.05);
        display:flex;
        flex-direction:column;
        gap:12px;
      }
      .card:hover,
      .card:focus-within{
        transform:translateY(-6px);
        box-shadow: 0 14px 30px rgba(12,20,40,0.10);
        outline:none;
      }
      .card-main{
        display:block;
        text-decoration:none;
        color:var(--brand);
      }
      .card h2{
        margin:0;
        font-size:18px;
      }
      .card .card-meta{
        margin:0;
        color:var(--muted);
        font-size:13px;
      }

      /* actions inside card */
      .card-actions{
        display:flex;
        gap:8px;
        margin-top:4px;
      }
      .btn{
        display:inline-flex;
        align-items:center;
        justify-content:center;
        gap:8px;
        padding:8px 10px;
        border-radius:8px;
        font-size:13px;
        text-decoration:none;
        border:1px solid transparent;
        cursor:pointer;
        transition:opacity .12s ease, transform .12s ease;
        color:var(--brand); /* default color for spinner (currentColor) */
      }
      .btn:focus{ outline:2px solid rgba(11,92,255,0.12); outline-offset:2px; }
      .btn-secondary{
        background:transparent;
        color:var(--brand);
        border-color:rgba(11,92,255,0.08);
      }
      .btn-primary{
        background:var(--accent);
        color:#fff;
        border-color:transparent;
      }

      /* loading state */
      .btn.loading{
        pointer-events:none;
        opacity:0.9;
      }
      .btn .spinner{
        display:inline-block;
        vertical-align:middle;
      }

      /* ensure card is positioning context for dropdown */
      .card{ position:relative; }

      /* practice dropdown/menu */
      .practice-menu{
        position:absolute;
        right:12px;
        bottom:54px;
        min-width:180px;
        background:#fff;
        border-radius:10px;
        box-shadow:0 10px 30px rgba(12,20,40,0.12);
        border:1px solid rgba(11,92,255,0.06);
        padding:8px;
        display:none;
        z-index:40;
      }
      .practice-menu[data-open="true"]{ display:block; }
      .practice-menu a{
        display:flex;
        align-items:center;
        gap:8px;
        padding:8px 10px;
        color:var(--brand);
        text-decoration:none;
        border-radius:6px;
        font-size:13px;
      }
      .practice-menu a:hover,
      .practice-menu a:focus{
        background:rgba(11,92,255,0.06);
        outline:none;
      }

      /* small label inside menu */
      .practice-menu .menu-title{
        padding:6px 10px;
        font-size:12px;
        color:var(--muted);
      }

      /* adjust location on small screens */
      @media (max-width:420px){
        .practice-menu{ right:8px; left:8px; bottom:56px; }
      }

      @media (min-width:768px){
        .heading-box{ padding:36px 44px; }
        .heading-box .title{ font-size:34px; }
      }
    </style>
</head>
<body>
    <header class="heading-box" role="banner" aria-label="Kalvi Hub heading">
      <div class="heading-inner">
        <img class="logo" src="ktl.png" alt="Kalvi Hub logo">
        <div class="heading-text">
          <h1 class="title">KALVI HUB</h1>
          <p class="meta">TNSED SYLLABUS</p>
        </div>
      </div>
    </header>
    <main class="container" role="main" aria-label="Main sections">
      <nav class="grid" aria-label="Primary sections">

        <!-- Class 9th card with two options -->
        <div class="card" aria-labelledby="c9-title">
          <a id="c9-title" class="card-main" href="page1.html">
            <h2>Class 9th</h2>
            <p class="card-meta">BOOK INSIDE QUESTIONS</p>
          </a>
          <div class="card-actions">
            <a class="btn btn-secondary" href="kl.png">PDF</a>

            <!-- changed: practice is now a toggle button that opens a small quiz/options menu -->
            <button class="btn btn-primary practice-toggle" type="button" aria-haspopup="true" aria-expanded="false" data-menu="menu-c9">Practice</button>

            <!-- practice menu for Class 9th -->
            <div id="menu-c9" class="practice-menu" role="menu" aria-label="Class 9 practice options" data-open="false">
              <div class="menu-title">Choose a quiz</div>
              <a class="practice-item" role="menuitem" href="page1-practice-quiz1.html">Quiz</a>
            </div>
          </div>
        </div>

        <!-- Class 10th card with two options -->
        <div class="card" aria-labelledby="c10-title">
          <a id="c10-title" class="card-main" href="page2.html">
            <h2>Class 10th</h2>
            <p class="card-meta">BOOK INSIDE QUESTIONS</p>
          </a>
          <div class="card-actions">
            <a class="btn btn-secondary" href="page2-syllabus.pdf">PDF</a>
            <button class="btn btn-primary practice-toggle" type="button" aria-haspopup="true" aria-expanded="false" data-menu="menu-c10">Practice</button>
            <div id="menu-c10" class="practice-menu" role="menu" aria-label="Class 10 practice options" data-open="false">
              <div class="menu-title">Choose a quiz</div>
              <a class="practice-item" role="menuitem" href="page2-practice-quiz1.html">Quiz</a>
            </div>
          </div>
        </div>

        <!-- Class 11th card with two options -->
        <div class="card" aria-labelledby="c11-title">
          <a id="c11-title" class="card-main" href="page3.html">
            <h2>Class 11th</h2>
            <p class="card-meta">BOOK INSIDE QUESTIONS</p>
          </a>
          <div class="card-actions">
            <a class="btn btn-secondary" href="page3-syllabus.pdf">PDF</a>
            <button class="btn btn-primary practice-toggle" type="button" aria-haspopup="true" aria-expanded="false" data-menu="menu-c11">Practice</button>
            <div id="menu-c11" class="practice-menu" role="menu" aria-label="Class 11 practice options" data-open="false">
              <div class="menu-title">Choose a quiz</div>
              <a class="practice-item" role="menuitem" href="page3-practice-quiz1.html">Quiz</a>
            </div>
          </div>
        </div>

        <!-- Class 12th card with two options -->
        <div class="card" aria-labelledby="c12-title">
          <a id="c12-title" class="card-main" href="page4.html">
            <h2>Class 12th</h2>
            <p class="card-meta">BOOK INSIDE QUESTIONS</p>
          </a>
          <div class="card-actions">
            <a class="btn btn-secondary" href="page4-syllabus.pdf">PDF</a>
            <button class="btn btn-primary practice-toggle" type="button" aria-haspopup="true" aria-expanded="false" data-menu="menu-c12">Practice</button>
            <div id="menu-c12" class="practice-menu" role="menu" aria-label="Class 12 practice options" data-open="false">
              <div class="menu-title">Choose a quiz</div>
              <a class="practice-item" role="menuitem" href="page4-practice-quiz1.html">Quiz</a>
            </div>
          </div>
        </div>
      </nav>
    </main>

    <script>
      // handle clicks for PDF/loading and practice menu toggle + navigation
      document.addEventListener('click', function (e) {
        // close menus if clicking outside
        const clickedToggle = e.target.closest('.practice-toggle');
        const clickedMenuItem = e.target.closest('.practice-item');

        // If user clicked a practice toggle button -> open/close its menu
        if (clickedToggle) {
          // allow modifier keys for future behavior
          e.preventDefault();
          const menuId = clickedToggle.dataset.menu;
          const menu = document.getElementById(menuId);
          if (!menu) return;
          const isOpen = menu.getAttribute('data-open') === 'true';
          // close any other open menus first
          document.querySelectorAll('.practice-menu[data-open="true"]').forEach(m => {
            m.setAttribute('data-open', 'false');
            const btn = document.querySelector('.practice-toggle[data-menu="'+m.id+'"]');
            if (btn) btn.setAttribute('aria-expanded', 'false');
          });
          // toggle this menu
          menu.setAttribute('data-open', String(!isOpen));
          clickedToggle.setAttribute('aria-expanded', String(!isOpen));
          return;
        }

        // If clicked a practice menu item -> show loading and navigate
        if (clickedMenuItem) {
          // allow modifier keys / middle-click
          if (e.metaKey || e.ctrlKey || e.shiftKey || e.altKey || e.button === 1) return;
          e.preventDefault();
          const href = clickedMenuItem.getAttribute('href');
          if (!href) return;

          // show a small inline loading state on the clicked item
          if (!clickedMenuItem.dataset.origHtml) clickedMenuItem.dataset.origHtml = clickedMenuItem.innerHTML;
          clickedMenuItem.innerHTML = '<svg width="14" height="14" viewBox="0 0 50 50" aria-hidden="true" style="vertical-align:middle;margin-right:6px"><circle cx="25" cy="25" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-linecap="round" stroke-dasharray="31.4 31.4" transform="rotate(-90 25 25)"><animateTransform attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.8s" repeatCount="indefinite"/></circle></svg> Loading...';
          setTimeout(function(){ window.location.href = href; }, 160);
          return;
        }

        // Otherwise handle .btn anchors (PDF) â€” keep existing behavior: show loading and navigate
        const btn = e.target.closest('a.btn');
        if (!btn) {
          // click outside any control -> close menus
          document.querySelectorAll('.practice-menu[data-open="true"]').forEach(m => {
            m.setAttribute('data-open', 'false');
            const btn = document.querySelector('.practice-toggle[data-menu="'+m.id+'"]');
            if (btn) btn.setAttribute('aria-expanded', 'false');
          });
          return;
        }

        // allow open-in-new-tab
        if (e.metaKey || e.ctrlKey || e.shiftKey || e.altKey || e.button === 1) return;
        const href = btn.getAttribute('href');
        if (!href) return;
        e.preventDefault();

        if (btn.classList.contains('loading')) return;
        btn.classList.add('loading');
        btn.setAttribute('aria-busy', 'true');
        if (!btn.dataset.origHtml) btn.dataset.origHtml = btn.innerHTML;

        const spinner = '<svg class="spinner" width="16" height="16" viewBox="0 0 50 50" aria-hidden="true"><circle cx="25" cy="25" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-linecap="round" stroke-dasharray="31.4 31.4" transform="rotate(-90 25 25)"><animateTransform attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.8s" repeatCount="indefinite"/></circle></svg>';
        btn.innerHTML = spinner + '<span style="margin-left:6px">Loading...</span>';
        setTimeout(function(){ window.location.href = href; }, 120);
      });

      // close menus with Escape
      document.addEventListener('keydown', function(e){
        if (e.key === 'Escape') {
          document.querySelectorAll('.practice-menu[data-open="true"]').forEach(m => {
            m.setAttribute('data-open', 'false');
            const btn = document.querySelector('.practice-toggle[data-menu="'+m.id+'"]');
            if (btn) btn.setAttribute('aria-expanded', 'false');
          });
        }
      });
    </script>
</body>
</html>